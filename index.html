<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diablo timeline</title>
    <!-- <link rel="icon" type="image/png" href="src/favicon.png"/> -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css">

    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.css" />
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

    <script src="https://unpkg.com/swiper/swiper-bundle.js"></script>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

    <link rel="stylesheet" href="styles/fonts.css">
    <link rel="stylesheet" href="styles/styles.css">
    <link rel="stylesheet" href="styles/styles-popup.css">


    <script>
        if (!window.location.href.includes('time')) {
            console.log('teste')
            var date = new Date();
            document.location.href = window.location.href + "?time=" + Date.now()
        }
    </script>
</head>

<body>
    <div class="content" id="app">
        <video autoplay muted loop id="bgvid" width="100%">
            <source src="src/background.mp4" type="video/mp4">
        </video>
        <div class="header">
            <div class="about" v-on:click="openPopup2" style="visibility:hidden">
                <a class="bi bi-chat-quote"></a>
            </div>
            <h1>DIABLO TIMELINE</h1>

            <div class="about" v-on:click="openPopup2">
                <a class="bi bi-chat-quote"></a>
            </div>
        </div>
        <div class="main-container">
            <div class="swiper-container swiper-container-main">
                <div class="swiper-wrapper swiper-wrapper-main">
                    <div class="swiper-slide swiper-slide-main" v-for="(item, index) in steps" :key="item.name">
                        <div class="swiper-clickable" v-on:click="openPopup(index)"
                            v-bind:style="{backgroundColor:'#fff', backgroundImage: 'url('+ item.imagem[0] +')' }">
                            <h2>{{item.nome}}</h2>
                            <h3>{{item.lancamento}}</h3>
                        </div>
                    </div>
                </div>
            </div>

            <div class="btn-left">
                <div class="swiper-button-prev"></div>
            </div>
            <div class="space-between"></div>
            <div class="btn-right">
                <div class="swiper-button-next"></div>
            </div>

            <transition name="fade">
                <div class="pop-up-container" v-if="open">
                    <div class="pop-up-background" v-on:click="closePopup">
                    </div>
                    <div class="pop-up-content">
                        <div class="pop-up-close bi bi-x" v-on:click="closePopup">
                        </div>
                        <div class="pop-up-image">
                            <div class="swiper-container swiper-container-pop-up" id="pop-up-swiper">
                                <div class="swiper-wrapper swiper-wrapper-pop-up">
                                    <div class="swiper-slide swiper-slide-pop-up" v-for="item in step.imagem"
                                        :key="item">
                                        <div
                                            style="width: 100%; height:100%; position:absolute; background-color:black; border:1px solid black">
                                            <img :src="item" loading="lazy" alt="">
                                        </div>
                                    </div>
                                    <div class="swiper-slide swiper-slide-pop-up" v-for="item in step.video"
                                        :key="item">
                                        <div
                                            style="width: 100%; height:100%; position:absolute;background-color:black; border:1px solid black">
                                            <div style="height:90%;">
                                                <iframe :src="'https://www.youtube.com/embed/'+item.split('v=')[1]"
                                                    loading="lazy" frameborder="0"
                                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                                    allowfullscreen></iframe>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="swiper-pagination"></div>
                            </div>
                        </div>
                        <!-- <img src=" https://via.placeholder.com/150x200" class="pop-up-image" draggable="false" /> -->
                        <div class="pop-up-text">
                            <div class=" pop-up-header-line">
                                <h1>{{step.nome}}</h1>
                                <h3>{{step.lancamento}}</h3>
                            </div>

                            <h4>{{step.resumo}}</h4>
                        </div>
                        <div class="pop-up-footer">
                            <a class="bi bi-play-btn" :href="'https://www.youtube.com/results?search_query='+step.nome"
                                style="color:lightgrey" target="_blank"></a>
                            <a class="bi bi-people" :href="step.fandom" style="color:lightgrey" target="_blank"></a>
                            <a class="bi bi-cash" style="color:lightgrey" v-if="step.comprar =='' "></a>
                            <a class="bi bi-cash" :href='step.comprar' style="color:lightgrey" target="_blank"
                                v-else></a>
                        </div>
                    </div>
                </div>
            </transition>


            <transition name="fade">
                <div class="pop-up-container " v-if="open2">
                    <div class="pop-up-background" v-on:click="closePopup2">
                    </div>
                    <div class="pop-up-content refs-container">
                        <div class="pop-up-close bi bi-x" v-on:click="closePopup2">
                        </div>
                        <p>Trabalho feito para a cadeira de comunicação visual 2 do curso de sistemas e mídias digitais
                        </p>
                        <p>Referências:</p>
                        <div class="refs">
                            <a target="_blank"
                                href="https://www.youtube.com/watch?v=kLedw4HACNc">Diablo Retrospective</a>
                            <a target="_blank"
                                href="www.metacritic.com/games/platforms/pc/diablo">Diablo on Metacritic</a>
                            <a target="_blank"
                                href="https://www.gamespot.com/reviews/hellfire-review/1900-2537524/">Hellfire Review</a>
                            <a target="_blank"
                                href="https://www.ign.com/articles/2019/11/01/20-years-of-diablo-an-ign-retrospective?page=2">Diablo 4: 23 Years of Diablo - IGN</a>
                            <a target="_blank"
                                href="https://www.youtube.com/watch?v=D3dL7ZeIAsE">BlizzConline 2021 - Diablo II: Resurrected Deep Dive</a>
                            <a target="_blank"
                                href="https://www.diabloii.net/blog/comments/diablo-3-post-mortem-jay-wilson-pt1">Diablo 3 Post-mortem with Jay Wilson Part one - Diabloii.Net</a>
                            <a target="_blank"
                                href="https://diablo.blizzplanet.com/blog/comments/blizzcon-2019-diablo-iv-announced">Diablo IV announced</a>
                            <a target="_blank"
                                href="https://www.kotaku.com.au/2019/11/the-past-present-and-future-of-diablo/">The Past, Present, And Future Of Diablo</a>
                            <a target="_blank"
                                href="https://www.youtube.com/watch?v=CO3LQqpiBvQ">BlizzConline 2021 - Diablo IV: What's Next</a>
                            <a target="_blank"
                                href="https://www.techtudo.com.br/noticias/2020/12/tudo-sobre-diablo-immortal-gameplay-e-detalhes-do-lancamento-da-blizzard.ghtml">Tudo sobre Diablo Immortal: gameplay e detalhes do lançamento da Blizzard</a>
                            <a target="_blank"
                                href="https://diabloimmortal.com/pt-br/">Diablo Immortal</a>
                        </div>
                        <div class="footer">
                            <p>Feito por:</p>
                            <p>Vitor Braga, Gustavo Vieira,</p>
                            <p>Leornado Santos e Francisco Alexandre</p>
                        </div>
                    </div>
                </div>
            </transition>
        </div>
    </div>

    <script src="main.js"></script>

</body>

</html>